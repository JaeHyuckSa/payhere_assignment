# í˜ì´íˆì–´ ê°€ê³„ë¶€ í”„ë¡œì íŠ¸ 



## ****ğŸ“Œ í”„ë¡œì íŠ¸ ê°œìš”****
- Djangoë¥¼ í™œìš©í•˜ì—¬ ì‚¬ìš©ìì—ê²Œ ì§€ì¶œ ë° ì†Œë“ ë‚´ì—­ì„ ê¸°ë¡/ê´€ë¦¬ë¥¼ í•  ìˆ˜ ìˆëŠ” ê°€ê³„ë¶€ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
- ê°œë°œê¸°ê°„ : '23.02.01 ~ 23.02.04'

<br>

## ****â›“ Tech Stack****  
### Backend : <img src="https://img.shields.io/badge/python 3.10.8-3776AB?style=for-the-badge&logo=python&logoColor=white"> <img src="https://img.shields.io/badge/django 4.1.5-092E20?style=for-the-badge&logo=django&logoColor=white"> <img src="https://img.shields.io/badge/django rest framework 3.14.0-092E20?style=for-the-badge&logo=django&logoColor=white"> 
### Management : <img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white"> <img src="https://img.shields.io/badge/git-F05032?style=for-the-badge&logo=git&logoColor=white"> <img src="https://img.shields.io/badge/github action-3399FF?style=for-the-badge&logo=github&logoColor=white">
### Database : <img src="https://img.shields.io/badge/Mysql 5.7-3399FF?style=for-the-badge&logo=mysql&logoColor=white">

<br>

## ğŸ“š ****ê¹ƒ ë¸Œëœì¹˜ ì „ëµ****
* ê¸°ëŠ¥ë³„ë¡œ ë‚˜ëˆ„ì–´ issueë¥¼ ì ê·¹ í™œìš©í–ˆìŠµë‹ˆë‹¤. 
* ìœ ì—°í•œ ê¹ƒ ë¸Œëœì¹˜ ì „ëµì„ ìœ„í•´ git flowë¥¼ ì°¸ê³ í–ˆìŠµë‹ˆë‹¤
    
    - main: ì œí’ˆìœ¼ë¡œ ì¶œì‹œë  ìˆ˜ ìˆëŠ” ë¸Œëœì¹˜
    - develop: ë‹¤ìŒ ì¶œì‹œ ë²„ì „ì„ ê°œë°œí•˜ëŠ” ë¸Œëœì¹˜ 

        + develop ë¸Œëœì¹˜ì— pr ë˜ëŠ” pushí•  ê²½ìš° ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ëŠ” CIë¥¼ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤.
    - feature: ê¸°ëŠ¥ì„ ê°œë°œí•˜ëŠ” ë¸Œëœì¹˜

<details>
<summary>Git Message ì»¨ë²¤ì…˜</summary>
<div markdown="4">

```
################
# <íƒ€ì…> : <ì œëª©> ì˜ í˜•ì‹ìœ¼ë¡œ ì œëª©ì„ ì•„ë˜ ê³µë°±ì¤„ì— ì‘ì„±
# ì œëª©ì€ 50ì ì´ë‚´ / ë³€ê²½ì‚¬í•­ì´ "ë¬´ì—‡"ì¸ì§€ ëª…í™•íˆ ì‘ì„± / ëì— ë§ˆì¹¨í‘œ ê¸ˆì§€
# ì˜ˆ) :sparkles:Feat: ë¡œê·¸ì¸ ê¸°ëŠ¥ ì¶”ê°€, 

# ë°”ë¡œ ì•„ë˜ ê³µë°±ì€ ì§€ìš°ì§€ ë§ˆì„¸ìš” (ì œëª©ê³¼ ë³¸ë¬¸ì˜ ë¶„ë¦¬ë¥¼ ìœ„í•¨)

################
# ë³¸ë¬¸(êµ¬ì²´ì ì¸ ë‚´ìš©)ì„ ì•„ë«ì¤„ì— ì‘ì„±
# ì—¬ëŸ¬ ì¤„ì˜ ë©”ì‹œì§€ë¥¼ ì‘ì„±í•  ë• "-"ë¡œ êµ¬ë¶„ (í•œ ì¤„ì€ 72ì ì´ë‚´)

################
# ê¼¬ë¦¿ë§(footer)ì„ ì•„ë«ì¤„ì— ì‘ì„± (í˜„ì¬ ì»¤ë°‹ê³¼ ê´€ë ¨ëœ ì´ìŠˆ ë²ˆí˜¸ ì¶”ê°€ ë“±)
# ì˜ˆ) Close #7, related_to: #7 

################
# :sparkles:Feat: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€
# :bug:Fix: ë²„ê·¸ ìˆ˜ì •
# :ambulance:!HOTFIX: ê¸‰í•œ ì˜¤ë¥˜ ìˆ˜ì •
# :books:Docs: ë¬¸ì„œ ìˆ˜ì •
# :umbrella:Test: í…ŒìŠ¤íŠ¸ ì½”ë“œ ì¶”ê°€
# :hammer:Refact: ì½”ë“œ ë¦¬íŒ©í† ë§
# :art:Style: ì½”ë“œ ì˜ë¯¸ì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ” ë³€ê²½ì‚¬í•­
# :lipstick:Design: CSS ë“± ì‚¬ìš©ì UIë””ìì¸ ë³€ê²½
# :Comment: í•„ìš”í•œ ì£¼ì„ ì¶”ê°€ ë° ë³€ê²½	
# :Rename: íŒŒì¼ í˜¹ì€ í´ë”ëª…ì„ ìˆ˜ì •í•˜ê±°ë‚˜ ì˜®ê¸°ëŠ” ì‘ì—…ë§Œì˜ ê²½ìš°
# :Remove: íŒŒì¼ì„ ì‚­ì œí•˜ëŠ” ì‘ì—…ë§Œ ìˆ˜í–‰í•œ ê²½ìš°
# Chore: ë¹Œë“œ ë¶€ë¶„ í˜¹ì€ íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ìˆ˜ì •ì‚¬í•­
################
```
</div>
</details>



<br>

## ğŸ”¨ ****í”„ë¡œì íŠ¸ ì‹œì‘í•˜ê¸°****
- ê°€ìƒí™˜ê²½ ì„¤ì •(window ê¸°ì¤€)
```linux
python -m venv venv 
pip install -r requirements.txt
```
- env ì„¤ì •
```linux
SECRET_KEY='ì‹œí¬ë¦¿í‚¤'
DEBUG=True
MYSQL_DB=django
MYSQL_USER=root
MYSQL_PASSWORD=1234
MYSQL_HOST=localhost
MYSQL_PORT=3306
```
- ë°ì´í„°ë² ì´ìŠ¤ ë°˜ì˜
```
python manage.py migrate
```
- ì¹´í…Œê³ ë¦¬ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
```linux
python manage.py loaddata ./json_data/expense_category_data.json
python manage.py loaddata ./json_data/income_category_data.json
```
- ë”ë¯¸ë°ì´í„° ìƒì„±í•˜ê¸°
```linux
python manage.py seed_dumy_data
```
- ì„œë²„ ì‹¤í–‰
```linux
python manage.py runserver
```



<br>

## ğŸ›¢ ****[Database ERD](https://www.erdcloud.com/d/EhwiXf9gc6qnzCNam)****

![ex_screenshot](./img/erd.png)
- ì‚¬ìš©ì í¸ë¦¬ì„±ì„ ìœ„í•´ ì§€ì¶œê³¼ ìˆ˜ìµ ë¶€ë¶„ì„ ë‚˜ëˆ„ì–´ ìƒê°í•˜ë©° ì„¤ê³„ë¥¼ í–ˆìŠµë‹ˆë‹¤.
- í•´ë‹¹ ì¼ìì˜ ê°€ê³„ë¶€ ì•ˆì—ì„œ ìˆ˜ìµê³¼ ì§€ì¶œì„ ê¸°ë¡í•  ìˆ˜ ìˆë„ë¡ ê°€ê³„ë¶€ì™€ ìˆ˜ìµ/ì§€ì¶œ ë¶€ë¶„ì„ ì¼ëŒ€ë‹¤ ê´€ê³„ë¡œ í–ˆìŠµë‹ˆë‹¤.
- ê°€ê³„ë¶€ í•´ë‹¹ ë§í¬ë§Œ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ ì¼ëŒ€ì¼ ê´€ê³„ë¡œ ë§¤ì¹­í–ˆìŠµë‹ˆë‹¤.
- ì¹´í…Œê³ ë¦¬ ë˜í•œ ê°€ê³„ë¶€ íŠ¹ì„±ìƒ í•˜ìœ„ ì¹´í…Œê³ ë¦¬ê°€ ë§ì„ ê²ƒì„ ìƒê°í•˜ì—¬ íŠ¸ë¦¬ êµ¬ì¡°ë¡œ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.


<br>

## ğŸ¯ ****API**** 
|Action| Method| URL|Request|Response|
|-----|----|----|----|----|
|íšŒì›ê°€ì…| POST| /users/auth/signup/|email, password, repassword, nickname
|ë¡œê·¸ì¸(access)| POST| /users/auth/signin/|email, password|access_token, refresh_token
|ë¡œê·¸ì¸(refresh)| POST| /users/auth/signin/refresh/|refresh_token|access_token
|í† í° ìœ íš¨ í™•ì¸| POST| /users/auth/verify/|token|
|ë¡œê·¸ì•„ì›ƒ| POST| /users/auth/signout/|refresh_token
|ê°€ê³„ë¶€ ìƒì„±| POST| /account-books/|date_at
|ì›”ê°„ ê°€ê³„ë¶€ ì¡°íšŒ| GET| /account-books/?date=||id, date_at, day_total_money
|ê°€ê³„ë¶€ ìƒì„¸ ì¡°íšŒ| GET| /account-books/details/<int: account_book_id>/|| id, date_at, day_total_money, expenses, incomes
|ê°€ê³„ë¶€ ìˆ˜ì •|PUT| /account-books/details/<int: account_book_id>/|date_at
|ê°€ê³„ë¶€ ì‚­ì œ|DELETE| /account-books/details/<int: account_book_id>/|
|ì¼ê°„ ì§€ì¶œ ë‚´ì—­ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ|GET| /expenses/?date=||id, money, expense_detail, payment_method
|ì§€ì¶œ ë‚´ì—­ ìƒì„±|POST|/expenses/<int: account_book_id>/|money, expense_detail, payment_method, memo, category
|íŠ¹ì • ì§€ì¶œ ë‚´ì—­ ì¡°íšŒ|GET|/expenses/details/<int: expense_id>/||id, money, expense_detail, payment_method, memo, category
|íŠ¹ì • ì§€ì¶œ ë‚´ì—­ ë³µì œ|POST|/expenses/details/<int: expense_id>/
|íŠ¹ì • ì§€ì¶œ ë‚´ì—­ ìˆ˜ì •|PUT|/expenses/details/<int: expense_id>/|money, expense_detail, payment_method, memo, category
|íŠ¹ì • ì§€ì¶œ ë‚´ì—­ ì‚­ì œ|DELETE|/expenses/details/<int: expense_id>/|
|íŠ¹ì • ì§€ì¶œ ë‚´ì—­ ê³µìœ  ë‹¨ì¶• URL ìƒì„±|POST|/expenses/share-urls/<int: expense_id>/||shared_url
|íŠ¹ì • ì§€ì¶œ ë‚´ì—­ ê³µìœ  ë‹¨ì¶• URL ì¡°íšŒ|GET|/expenses/share-urls/?key=||id, money, expense_detail, payment_method, date_at
|ì§€ì¶œ ì¹´í…Œê³ ë¦¬ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ|GET|/expenses/categories/||main_category_name, sub_category_name
|ì›”ê°„ ì§€ì¶œ ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ ì¡°íšŒ|GET|/expenses/categories/search/?date=&main=&sub=||id, money, expense_detail, payment_method
|ì›”ê°„ ì§€ì¶œ ë‚´ì—­ í†µê³„ ì¡°íšŒ|GET|/expenses/categories/stat/?date=||main_category_name, amount
|ì¼ê°„ ìˆ˜ìµ ë‚´ì—­ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ|GET| /incomes/?date=||id, money, income_detail, payment_method
|ìˆ˜ìµ ë‚´ì—­ ìƒì„±|POST|/incomes/<int: account_book_id>/|money, income_detail, payment_method, memo, category
|íŠ¹ì • ìˆ˜ìµ ë‚´ì—­ ì¡°íšŒ|GET|/incomes/details/<int: income_id>/||id, money, income_detail, payment_method, memo, category
|íŠ¹ì • ìˆ˜ìµ ë‚´ì—­ ë³µì œ|POST|/incomes/details/<int: income_id>/
|íŠ¹ì • ìˆ˜ìµ ë‚´ì—­ ìˆ˜ì •|PUT|/incomes/details/<int: income_id>/|money, income_detail, payment_method, memo, category
|íŠ¹ì • ìˆ˜ìµ ë‚´ì—­ ì‚­ì œ|DELETE|/incomes/details/<int: income_id>/|
|íŠ¹ì • ìˆ˜ìµ ë‚´ì—­ ê³µìœ  ë‹¨ì¶• URL ìƒì„±|POST|/incomes/share-urls/<int: income_id>/||shared_url
|íŠ¹ì • ìˆ˜ìµ ë‚´ì—­ ê³µìœ  ë‹¨ì¶• URL ì¡°íšŒ|GET|/incomes/share-urls/?key=||id, money, income_detail, payment_method, date_at
|ìˆ˜ìµ ì¹´í…Œê³ ë¦¬ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ|GET|/incomes/categories/||main_category_name, sub_category_name
|ì›”ê°„ ìˆ˜ìµ ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ ì¡°íšŒ|GET|/incomes/categories/search/?date=&main=&sub=||id, money, income_detail, payment_method
|ì›”ê°„ ìˆ˜ìµ ë‚´ì—­ í†µê³„ ì¡°íšŒ|GET|/incomes/categories/stat/?date=||main_category_name, amount

<br>

## âš™ ****ê¸°ëŠ¥ ëª…ì„¸ì„œ****
## ****API ê°œë°œì„ í•  ë•Œ ì™¸ë¶€ ê°œë°œìì™€ í˜‘ì—…í•œë‹¤ëŠ” ëŠë‚Œìœ¼ë¡œ ê¸°íšì„ í–ˆìŠµë‹ˆë‹¤.****
![ex_screenshot](./img/feature_2.png)
### ****1. ê³ ê°ì€ ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ì„ í†µí•´ì„œ íšŒì› ê°€ì…ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.**** 
- ì´ë©”ì¼ê³¼ ë‹‰ë„¤ì„ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë°›ì•„ íšŒì›ê°€ì…ì„ í•  ìˆ˜ ìˆìœ¼ë©° ë¹„ë°€ë²ˆí˜¸ ì´ì¤‘ í™•ì¸ì„ í•©ë‹ˆë‹¤.
- simple jwt ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•˜ì—¬ í† í°ì„ ë°œí–‰í•´ì„œ ì¸ì¦í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ í–ˆìŠµë‹ˆë‹¤.
- ë¹„ë°€ë²ˆí˜¸ëŠ” íšŒì›ê°€ì…ì„ í•  ë•Œ set_password ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì•”í˜¸í™”ë˜ì–´ ì €ì¥ë©ë‹ˆë‹¤.

![ex_screenshot](./img/feature_1.png)
### ****2. ê³ ê°ì€ íšŒì›ê°€ì… ì´í›„, ë¡œê·¸ì¸ê³¼ ë¡œê·¸ì•„ì›ƒì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.****
- ë¡œê·¸ì¸ì„ í†µí•´ access tokenê³¼ refresh tokenì„ ë°œí–‰í•©ë‹ˆë‹¤.
- refresh tokenì„ ë°œí–‰í•˜ì—¬ access token ë°œí–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- tokenì´ ìœ íš¨í•œì§€ í™•ì¸ì„ ìœ„í•´ token verifyë¥¼ í™œìš©í•´ ì•ˆì •ì„±ì„ ë†’ì…ë‹ˆë‹¤.
- ë¡œê·¸ì•„ì›ƒì„ í†µí•´ refresh tokenì´ blacklistì— ì €ì¥ë˜ì–´ ì¬ì‚¬ìš© ë°©ì§€ë¥¼ ë§‰ìŠµë‹ˆë‹¤.

## ****3. ê³ ê°ì€ ë¡œê·¸ì¸ ì´í›„ ê°€ê³„ë¶€ ê´€ë ¨ ì•„ë˜ì˜ í–‰ë™ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.****
![ex_screenshot](./img/feature_3.png)
### ****a.ê°€ê³„ë¶€ì— ì˜¤ëŠ˜ ì‚¬ìš©í•œ ëˆì˜ ê¸ˆì•¡ê³¼ ê´€ë ¨ëœ ë©”ëª¨ë¥¼ ë‚¨ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.****
- í•´ë‹¹ ì¼ìì˜ ê°€ê³„ë¶€ë¥¼ ìƒì„±í•˜ê³  í•´ë‹¹ ì¼ìì˜ ê°€ê³„ë¶€ì˜ ì§€ì¶œ/ìˆ˜ìµ ë‚´ì—­ì„ ìƒì„±ì„ í†µí•´ ë©”ëª¨ì™€ ì‚¬ìš©ë‚´ì—­ê³¼ ì§€ë¶ˆë°©ë²•, ê¸ˆì•¡, ì¹´í…Œê³ ë¦¬ë¥¼ ë‚¨ê¹ë‹ˆë‹¤.
- ìˆ˜ì…/ì§€ì¶œ ë‚´ì—­ì„ ìƒì„±í•˜ë©´ í•´ë‹¹ ì¼ìì˜ ì´ ê¸ˆì•¡ì´ ê³„ì‚°ë©ë‹ˆë‹¤.
- íŠ¸ëœì­ì…˜ì„ ì•ˆì •í•˜ê²Œ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì›ìì„±ì´ ë³´ì¥ë˜ê²Œ í–ˆìŠµë‹ˆë‹¤.  
<details>
<summary style="font-size: 15px;">ê¸ˆì•¡ ê³„ì‚°</summary>
<div markdown="1">

```python
@transaction.atomic
def sub_total_money_expense(account_book, expense):
    account_book.day_total_money -= expense
    account_book.save()

@transaction.atomic
def add_total_money_expense(account_book, expense):
    account_book.day_total_money += expense
    account_book.save()

@transaction.atomic
def mix_total_money_expense(account_book, current_money, request_money):
    if current_money < request_money:
        account_book.day_total_money -= request_money - current_money
        account_book.save()

    elif current_money > request_money:
        account_book.day_total_money += current_money - request_money
        account_book.save()
```

</div>
</details>

<br>

### ****b.ê°€ê³„ë¶€ì—ì„œ ìˆ˜ì •ì„ ì›í•˜ëŠ” ë‚´ì—­ì€ ê¸ˆì•¡ê³¼ ë©”ëª¨ë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.****
- í•´ë‹¹ ì¼ìì˜ ê°€ê³„ë¶€ë¥¼ ë‹¤ë¥¸ ë‚ ì§œë¡œ ìˆ˜ì •í•  ìˆ˜ ìˆìœ¼ë©° ì§€ì¶œ/ìˆ˜ìµ ë‚´ì—­ì˜ ë©”ëª¨ì™€ ì‚¬ìš©ë‚´ì—­ê³¼ ì§€ë¶ˆë°©ë²•, ê¸ˆì•¡, ì¹´í…Œê³ ë¦¬ë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
- ìˆ˜ì…/ì§€ì¶œ ë‚´ì—­ì„ ìˆ˜ì •í•˜ë©´ í•´ë‹¹ ì¼ìì˜ ì´ ê¸ˆì•¡ì´ ê³„ì‚°ë©ë‹ˆë‹¤. (aì™€ ë™ì¼)

### ****c. ê°€ê³„ë¶€ì—ì„œ ì‚­ì œë¥¼ ì›í•˜ëŠ” ë‚´ì—­ì€ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.****
- í•´ë‹¹ì¼ìì˜ ê°€ê³„ë¶€ë¥¼ ì‚­ì œí•  ìˆ˜ ìˆê³  ì§€ì¶œ/ìˆ˜ìµ ë‚´ì—­ì„ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
- ìˆ˜ì…/ì§€ì¶œ ë‚´ì—­ì„ ì‚­ì œí•˜ë©´ í•´ë‹¹ ì¼ìì˜ ì´ ê¸ˆì•¡ì´ ê³„ì‚°ë©ë‹ˆë‹¤. (aì™€ ë™ì¼)
### ****d. ê°€ê³„ë¶€ì—ì„œ ì´ì œê¹Œì§€ ê¸°ë¡í•œ ê°€ê³„ë¶€ ë¦¬ìŠ¤íŠ¸ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.****
- ì›”ê°„ ê°€ê³„ë¶€ ë¦¬ìŠ¤íŠ¸ë¥¼ ì¡°íšŒí•˜ë„ë¡ í–ˆìœ¼ë©° ì§€ì¶œ/ìˆ˜ìµ ë¦¬ìŠ¤íŠ¸ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤.
### ****e. ê°€ê³„ë¶€ì—ì„œ ìƒì„¸í•œ ì„¸ë¶€ ë‚´ì—­ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.****
- í•´ë‹¹ ì¼ìì˜ ê°€ê³„ë¶€ë¥¼ ìƒì„¸ì¡°íšŒí•˜ë©´ ì§€ì¶œ/ìˆ˜ìµ ë‚´ì—­ì„ ë³¼ ìˆ˜ ìˆìœ¼ë©° ê·¸ ì§€ì¶œ/ìˆ˜ìµ ë‚´ì—­ì˜ ì„¸ë¶€ ë‚´ì—­ì„ ë³¼ ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤. 
### ****f. ê°€ê³„ë¶€ì˜  ì„¸ë¶€ ë‚´ì—­ì„ ë³µì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.****
- í•´ë‹¹ ì¼ìì˜ ê°€ê³„ë¶€ì— ì§€ì¶œ/ìˆ˜ìµ ë‚´ì—­ì„ ë³µì œí•  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤. 
- ë³µì œê°€ ë˜ë©´ í•´ë‹¹ ì¼ìì˜ ì´ ê¸ˆì•¡ì´ ê³„ì‚°ë©ë‹ˆë‹¤. (aì™€ ë™ì¼)
<details>
<summary style="font-size: 15px;">ì§€ì¶œ ë³µì œ ì½”ë“œ</summary>
<div markdown="1">

```python
class ExpenseDetailView(APIView):
    permission_classes = [IsOwner]

    def get_objects(self, expense_id):
        expense = get_object_or_404(Expense, id=expense_id)
        self.check_object_permissions(self.request, expense)
        return expense

    def post(self, reuqest, expense_id):
        expense = self.get_objects(expense_id)
        expense.id = None
        expense.save()
        ExpenseCalcUtil.sub_total_money_expense(
            expense.account_book, expense.money
            )
        return Response({"message": "ë³µì‚¬ ì™„ë£Œ"}, status=status.HTTP_200_OK)
```

</div>
</details>

<br>

### ****g. ê°€ê³„ë¶€ì˜ íŠ¹ì • ì„¸ë¶€ ë‚´ì—­ì„ ê³µìœ í•  ìˆ˜ ìˆê²Œ ë‹¨ì¶• URLì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ë‹¨ì¶• URLì€ íŠ¹ì • ì‹œê°„ ë’¤ì— ë§Œë£Œë˜ì–´ì•¼ í•©ë‹ˆë‹¤. )****
[ê³µìœ  ë§í¬ ìƒì„±]

1. ì§€ì¶œ/ìˆ˜ìµ ìƒì„¸ ë‚´ì—­ì„ ê°€ì ¸ì™€ id ê°’ì„ ì•”í˜¸í™”(uidb64, uuid)í•˜ì—¬ ë§Œë£Œì‹œê°„ê³¼ ë‹¨ì¶• ê³µìœ  URLì„ ì €ì¥í•˜ê³  ë°˜í™˜í•©ë‹ˆë‹¤.

[ê³µìœ  ë§í¬ ì¡°íšŒ]

2. ì•”í˜¸í™”ëœ ë‹¨ì¶• ê³µìœ  URLì„ ë³µí˜¸í™”í•˜ì—¬ idê°’ìœ¼ë¡œ ì§€ì¶œ/ìˆ˜ìµ ìƒì„¸ ë‚´ì—­ì„ ì°¾ì•„ ë³´ì—¬ì£¼ë©° ì‹œê°„ì´ ë§Œë£Œë˜ì—ˆìœ¼ë©´ ì—ëŸ¬ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤. 
<details>
<summary style="font-size: 15px;">ì§€ì¶œ ê³µìœ  ë§í¬ ì½”ë“œ</summary>
<div markdown="1">

```python
# expense.views.py
class ExpenseShareUrlCreateView(APIView):
    permission_classes = [IsOwner]

    def get_objects(self, expense_id):
        expense = get_object_or_404(Expense, id=expense_id)
        self.check_object_permissions(self.request, expense)
        return expense

    def post(self, request, expense_id):
        try:
            expense = self.get_objects(expense_id)
            shared_url = UrlUtil.get_share_link(request, expense)
            expired_at = UrlUtil.get_share_link_expired_at()
            ExpenseURL.objects.create(shared_url=shared_url, expired_at=expired_at, expense_id=expense.id)
            return Response({"ë‹¨ì¶• URL(1ì¼ ì œí•œ)": shared_url}, status=status.HTTP_201_CREATED)

        except IntegrityError:
            return Response({"message": "í•´ë‹¹ ì§€ì¶œ ë‚´ì—­ì˜ ê³µìœ  ë§í¬ê°€ ì¡´ì¬í•©ë‹ˆë‹¤. "},status=status.HTTP_208_ALREADY_REPORTED)


class ExpenseShareUrlView(APIView):
    permission_classes = [IsAuthenticated]

    def get(self, request):
        encode_key = request.GET.get("key", None)
        expense_id = UrlUtil.get_query_id(encode_key)
        expense_url = get_object_or_404(ExpenseURL, expense_id=expense_id)
        if expense_url.expired_at < timezone.now():
            return Response({"message": "ë§Œë£Œëœ URL ì…ë‹ˆë‹¤."}, status=status.HTTP_400_BAD_REQUEST)
        serializer = ExpenseShareUrlSerializer(expense_url.expense)
        return Response(serializer.data, status=status.HTTP_200_OK)

# payhere.utils.py
class UrlUtil:
    def get_share_link_expired_at():
        expired_at = timezone.now() + timezone.timedelta(days=1)
        return expired_at

    def get_share_link(request, query):
        uid = str(uuid.uuid4())[:7]
        uidb64 = urlsafe_base64_encode(smart_bytes(query.id))
        encode_key = uidb64 + uid
        currnt_site = f"{get_current_site(request).domain}/"
        shared_url = "http://" + currnt_site + encode_key
        return shared_url

    def get_query_id(encode_key):
        uidb64 = encode_key[:-7]
        query_id = force_str(urlsafe_base64_decode(uidb64))
        return query_id
```

</div>
</details>

<br>

## ****ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ê³ ê°ì€ ê°€ê³„ë¶€ ë‚´ì—­ì— ëŒ€í•œ ì ‘ê·¼ ì œí•œ ì²˜ë¦¬ê°€ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.****
[IsOwner]
1. custom permissionì„ ë§Œë“¤ì–´ í•´ë‹¹ ì‚¬ìš©ìë§Œ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤.

[IsAuthenticated]
1. ë¡œê·¸ì¸ëœ ì‚¬ìš©ìë§Œ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤. 

<details>
<summary style="font-size: 15px;">IsOnwer ì½”ë“œ</summary>
<div markdown="1">

```python
# payhere.permissions.py
class IsOwner(BasePermission):
    def has_object_permission(self, request, view, obj):
        user = request.user
        if obj.owner == user:
            return True

        if user.is_authenticated or user.is_anonymous:
            response = {"detail": "ì ‘ê·¼ ê¶Œí•œ ì—†ìŠµë‹ˆë‹¤."}
            raise GenericAPIException(status_code=status.HTTP_403_FORBIDDEN, detail=response)

# views.py
permission_classes = [IsOwner]

def get_objects(self, account_book_id):
    account_book = get_object_or_404(AccountBook, id=account_book_id)
    self.check_object_permissions(self.request, account_book)
    return account_book
```

</div>
</details>

<br>

## ****ì¹´í…Œê³ ë¦¬(Django-MPTT ì‚¬ìš©)****
[ì„¤ê³„]
- ì‚¬ìš©ìê°€ í¸ì˜ì„±ì„ ìœ„í•´ ì¹´í…Œê³ ë¦¬ë¥¼ ìƒì„±í•˜ê²Œ í•˜ëŠ” ê²ƒë³´ë‹¤ ê³ ì •ëœ ì¹´í…Œê³ ë¦¬ë¥¼ ì œê³µí•˜ì—¬ ì‚¬ìš©ì ì ‘ê·¼ì„±ì„ ì¦ëŒ€ì‹œí‚¤ë ¤ëŠ” ëª©ì ì´ì—ˆìŠµë‹ˆë‹¤.
- ì¿¼ë¦¬ë¥¼ ì‚½ì…, ì‚­ì œë¥¼ í•˜ì§€ì•Šê³  ì¡°íšŒê°€ ì¦ì•„ì§ˆ ê²ƒ ê°™ì•„ Django-MPTTë¥¼ ì‚¬ìš©í•˜ì—¬ ì¿¼ë¦¬ìµœì í™”ì— ì´ˆì ì„ ë§ì·„ìŠµë‹ˆë‹¤..
- ê³ ì •ëœ ì¹´í…Œê³ ë¦¬ë¥¼ ìœ„í•´ ì§€ì¶œ/ìˆ˜ìµ ë‚´ì—­ì— ë“¤ì–´ê°ˆ ì‚¬ì „ ì¡°ì‚¬ë¥¼ í•˜ì—¬ JSONë°ì´í„°ë¡œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.

<details>
<summary style="font-size: 15px;">ì¹´í…Œê³ ë¦¬ ëª¨ë¸ ì½”ë“œ</summary>
<div markdown="1">

```python
# expense.models.py
class ExpenseCategory(MPTTModel):
    name = models.CharField("ì´ë¦„", max_length=50, unique=True, error_messages={"unique": "ì´ë¯¸ ì‚¬ìš©ì¤‘ì¸ ì¹´í…Œê³ ë¦¬ì…ë‹ˆë‹¤."})
    parent = TreeForeignKey("self", verbose_name="ë¶€ëª¨", on_delete=models.CASCADE, null=True, blank=True, related_name="children", db_index=True)

    class MPTTMeta:
        order_insertion_by = ["name"]

    class Meta:
        db_table = "ExpenseCategory"

    def __str__(self):
        return self.name

```

</div>
</details>

<br>

### ****ì¹´í…Œê³ ë¦¬ ë¦¬ìŠ¤íŠ¸****
[ì„¤ê³„]
- ì™¸ë¶€ ê°œë°œìì™€ í˜‘ì—…ì„ í•œë‹¤ê³  í•˜ë©´ ì–´ë–¤ ì¹´í…Œê³ ë¦¬ê°€ ìˆëŠ”ì§€ ë³´ì—¬ì£¼ê¸° ìœ„í•´ API ê°œë°œì„ í–ˆìŠµë‹ˆë‹¤.

[êµ¬í˜„]
- í•˜ìœ„ ì¹´í…Œê³ ë¦¬ê°€ ìƒìœ„ ì¹´í…Œê³ ë¦¬ì— ì¢…ì†ë˜ì–´ ë”•ì…”ë„ˆë¦¬ë¡œ ë§Œë“¤ì–´ ë°˜í™˜í•©ë‹ˆë‹¤. 


<details>
<summary style="font-size: 15px;">ì¹´í…Œê³ ë¦¬ ë¦¬ìŠ¤íŠ¸ ì½”ë“œ</summary>
<div markdown="1">

```python
# expense.views.py
class ExpenseCategoryView(APIView):
    def get(self, reuqest):
        category_data = {}
        
        for i in range(1, 15):
            main_category = get_object_or_404(ExpenseCategory, id=i)
            sub_categories = main_category.get_descendants(include_self=False)
            sub_categories_serializer = ExpenseCategorySerializer(sub_categories, many=True)
            category_data[f"({i}) {main_category.name}"] = sub_categories_serializer.data
        return Response(category_data, status=status.HTTP_200_OK)
```


</div>
</details>

<br>


### ****ì¹´í…Œê³ ë¦¬ë¡œ ê²€ìƒ‰****
[ì„¤ê³„]
- ì‚¬ìš©ìê°€ ì¹´í…Œê³ ë¦¬ ë³„ë¡œ ëª¨ì•„ì„œ í¸ì˜ì„±ì„ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•´ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.

[êµ¬í˜„]
- ì›”ê°„ìœ¼ë¡œ ì¹´í…Œê³ ë¦¬ë¡œ ì§€ì¶œ/ìˆ˜ìµì„ ì¡°íšŒí•  ìˆ˜ ìˆê²Œ í–ˆìœ¼ë©° í•´ë‹¹ ì¹´í…Œê³ ë¦¬ê°€ ì—†ë‹¤ë©´ ì›”ê°„ì— í•´ë‹¹í•˜ëŠ” 
    ì§€ì¶œ/ìˆ˜ìµ ë‚´ì—­ ëª¨ë‘ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.

<details>
<summary style="font-size: 15px;">ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ ì¡°íšŒ ì½”ë“œ</summary>
<div markdown="1">

```python
# expense.views.py
class ExpenseCategorySearchView(APIView):
    def get(self, request):
        try:
            date = request.GET.get("date", None).split("-")
            main = request.GET.get("main", None)
            sub = request.GET.get("sub", None)
            
            year = date[0]
            month = date[1]

            if main or sub:
                # í•´ë‹¹ ì¹´í…Œê³ ë¦¬ê°€ ìˆì„ ê²½ìš°
                select_expenses = (
                    Expense.objects.select_related("account_book").select_related("category").filter \
                    (account_book__in=get_list_or_404(AccountBook, date_at__year=year, date_at__month=month, owner=request.user),
                    category__in=get_list_or_404(ExpenseCategory, Q(name=main) | Q(name=sub))))
                select_serializer = ExpenseSearchListSerializer(select_expenses, many=True)
                return Response(select_serializer.data, status=status.HTTP_200_OK)

            # í•´ë‹¹ ì¹´í…Œê³ ë¦¬ê°€ ì—†ì„ ê²½ìš° ì›”ê°„ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ
            all_expenses = Expense.objects.select_related("account_book").filter \
                (account_book__in=get_list_or_404(AccountBook,date_at__year=year, date_at__month=month, owner=request.user))
            all_serializer = ExpenseSearchListSerializer(all_expenses, many=True)
            return Response(all_serializer.data, status=status.HTTP_200_OK)

        except IndexError:
            return Response({"message": "ì˜¬ë°”ë¥¸ ë§¤ê°œë³€ìˆ˜ì˜ ë‚ ì§œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.(Ex: YYYY-MM)"}, status=status.HTTP_400_BAD_REQUEST)
```


</div>
</details>

<br>

## ****ì›”ê°„ í†µê³„ ì¡°íšŒ****
[ì„¤ê³„]
- ì‚¬ìš©ìê°€ ì›”ê°„ì— ì¹´í…Œê³ ë¦¬ ë³„ë¡œ ì–¼ë§Œí¼ ê¸ˆì•¡ì„ ì§€ì¶œ/ìˆ˜ìµì„ í•œë²ˆì— ì•Œê²Œ í•˜ê³  ì‚¬ìš©ì ì ‘ê·¼ì„±ì„ ìš©ì´í•˜ê²Œ í•˜ê¸° ìœ„í•´ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

[êµ¬í˜„]
- ì›”ê°„ ì§€ì¶œ/ìˆ˜ìµì— í•´ë‹¹í•˜ëŠ” ë‚´ì—­ì„ ë¶ˆëŸ¬ì™€ ì¤‘ë³µì´ ì œê±°ë˜ê³  ë¦¬ìŠ¤íŠ¸ë¡œ ë§Œë“¤ì–´ì§„ ì¹´í…Œê³ ë¦¬ë¥¼ ë°˜ë³µë¬¸ìœ¼ë¡œ ìƒìœ„ ì¹´í…Œê³ ë¦¬ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì´ì•¡ì„ êµ¬í•´ ë°˜í™˜í•©ë‹ˆë‹¤.  

<details>
<summary style="font-size: 15px;">ì›”ê°„ í†µê³„ ì¡°íšŒ ì½”ë“œ</summary>
<div markdown="1">

```python
#expense.views.py
class ExpenseCategoryStatView(APIView):
    permission_classes = [IsAuthenticated]

    def get_amount_for_category_null(self, expense_list):
        expenses = expense_list.filter(category__isnull=True)

        amount = 0

        for expense in expenses:
            amount += expense.money
        return {"amount": str(amount)}

    def get_amount_for_category(self, category, expense_list):
        expenses = expense_list.filter(category__in=ExpenseCategory.objects.get(name=category).get_descendants(include_self=True))

        amount = 0

        for expense in expenses:
            amount += expense.money
        return {"amount": str(amount)}

    def get_category(self, expense):
        try:
            if not expense.category.parent:
                return expense.category

        except AttributeError:
            return None

    def get(self, request):
        try:
            date = request.GET.get("date", None).split("-")
            
            year = date[0]
            month = date[1]

            expenses = (
                Expense.objects.select_related("account_book").select_related("category").filter \
                (account_book__in=get_list_or_404(AccountBook, date_at__year=year, date_at__month=month, owner=request.user)))

            final = {}
            categories = list(set(map(self.get_category, expenses)))

            for category in categories:
                if category == None:
                    final["ì—†ìŒ"] = self.get_amount_for_category_null(expenses)
                    
                else:
                    final[str(category)] = self.get_amount_for_category(category, expenses)
            return Response({"category_data": final}, status=status.HTTP_200_OK)

        except IndexError:
            return Response({"message": "ì˜¬ë°”ë¥¸ ë§¤ê°œë³€ìˆ˜ì˜ ë‚ ì§œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.(Ex: YYYY-MM)"}, status=status.HTTP_400_BAD_REQUEST)
```


</div>
</details>

<br>

## ğŸ¤™ ****Test Code Case****

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ í†µí•´ ì•ˆì •ì„±ìˆëŠ” ê¸°ëŠ¥ êµ¬í˜„ì— ì´ˆì ì„ ë§ì·„ìŠµë‹ˆë‹¤.
<details>
<summary style="font-size: 18px;">USER TEST CODE</summary>
<div markdown="1">


## íšŒì›ê°€ì…
1. íšŒì›ê°€ì… ì„±ê³µ
2. íšŒì›ê°€ì… ì‹¤íŒ¨(ì´ë©”ì¼ ë¹ˆì¹¸)
3. íšŒì›ê°€ì… ì‹¤íŒ¨(ì´ë©”ì¼ í˜•ì‹)
4. íšŒì›ê°€ì… ì‹¤íŒ¨(ì´ë©”ì¼ ì¤‘ë³µ)
5. íšŒì›ê°€ì… ì‹¤íŒ¨(ë‹‰ë„¤ì„ ë¹ˆì¹¸)
6. íšŒì›ê°€ì… ì‹¤íŒ¨(ë‹‰ë„¤ì„ ìœ íš¨ì„±ê²€ì‚¬)
7. íšŒì›ê°€ì… ì‹¤íŒ¨(ë‹‰ë„¤ì„ ì¤‘ë³µ)
8. íšŒì›ê°€ì… ì‹¤íŒ¨(ë¹„ë°€ë²ˆí˜¸ ë¹ˆì¹¸)
9. íšŒì›ê°€ì… ì‹¤íŒ¨(ë¹„ë°€ë²ˆí˜¸í™•ì¸ ë¹ˆì¹¸)
10. íšŒì›ê°€ì… ì‹¤íŒ¨(ë¹„ë°€ë²ˆí˜¸, ë¹„ë°€ë²ˆí˜¸ í™•ì¸ ì¼ì¹˜ )
11. íšŒì›ê°€ì… ì‹¤íŒ¨(ë¹„ë°€ë²ˆí˜¸ ìœ íš¨ì„± ê²€ì‚¬)

## ë¡œê·¸ì¸
12. (access token)ë¡œê·¸ì¸ ì„±ê³µ
13. (access token)ë¡œê·¸ì¸ ì‹¤íŒ¨
14. (refresh_token)ë¡œê·¸ì¸ ì„±ê³µ
15. (refresh_token)ë¡œê·¸ì¸ ì‹¤íŒ¨(refresh ì…ë ¥ì•ˆí–ˆì„ ë•Œ)
16. (refresh_token)ë¡œê·¸ì¸ ì‹¤íŒ¨(access í† í° ë„£ì—ˆì„ ë•Œ)

## í† í° ìœ íš¨ í™•ì¸
17. access í† í° ìœ íš¨ (ì„±ê³µ)
18. refresh í† í° ìœ íš¨ (ì„±ê³µ)
19. í† í° ìœ íš¨í•˜ì§€ ì•ŠìŒ (ì‹¤íŒ¨)

## ë¡œê·¸ì•„ì›ƒ
20.  (refresh_token)ë¡œê·¸ì•„ì›ƒ ì„±ê³µ
21.  (refresh_token)ë¡œê·¸ì•„ì›ƒ ì‹¤íŒ¨(refresh ì…ë ¥ì•ˆí–ˆì„ ë•Œ)
22.  (refresh_token)ë¡œê·¸ì•„ì›ƒ ì‹¤íŒ¨(access í† í° ë„£ì—ˆì„ ë•Œ)

</div>
</details>

<P>

<details>
<summary style="font-size: 18px;">ACCOUNT BOOK TEST CODE</summary>
<div markdown="2">

## ê°€ê³„ë¶€ ìƒì„±, ê°€ê³„ë¶€ ì›”ê°„ ì¡°íšŒ
1. ê°€ê³„ë¶€ ìƒì„± ì„±ê³µ
2. ê°€ê³„ë¶€ ìƒì„± ì‹¤íŒ¨ (ë‚ ì§œ ì¤‘ë³µ)
3. ê°€ê³„ë¶€ ìƒì„± ì‹¤íŒ¨ (ë‚ ì§œ í˜•ì‹ì´ ì•„ë‹ ë•Œ)
4. ê°€ê³„ë¶€ ìƒì„± ì‹¤íŒ¨ (ë‚ ì§œê°€ ë¹ˆì¹¸ì¼ ë•Œ)
5. ê°€ê³„ë¶€ ìƒì„± ì‹¤íŒ¨ (ë‚ ì§œ í•„ë“œê°€ ì—†ì„ ë•Œ)
6. ê°€ê³„ë¶€ ìƒì„± ì‹¤íŒ¨ (ë¹„íšŒì›ì¼ ë•Œ)
7. ê°€ê³„ë¶€ ì›”ê°„ ì¡°íšŒ ì„±ê³µ
8. ê°€ê³„ë¶€ ì›”ê°„ ì¡°íšŒ ì‹¤íŒ¨ (url ë§¤ê°œë³€ìˆ˜ ì„¤ì • ì˜ëª»ë˜ì—ˆì„ ë•Œ)
9. ê°€ê³„ë¶€ ì›”ê°„ ì¡°íšŒ ì‹¤íŒ¨ (ë¹„íšŒì›ì¼ ë•Œ)
10. ê°€ê³„ë¶€ ì›”ê°„ ì¡°íšŒ ì‹¤íŒ¨ (ê°€ê³„ë¶€ê°€ ì¡´ì¬í•˜ì§€ ì•Šì„ ë•Œ)

# ê°€ê³„ë¶€ ìƒì„¸ ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œ
11. ê°€ê³„ë¶€ ìƒì„¸ ì¡°íšŒ ì„±ê³µ
12. ê°€ê³„ë¶€ ìƒì„¸ ì¡°íšŒ ì‹¤íŒ¨ (ë¹„íšŒì›ì¼ ë•Œ)
13. ê°€ê³„ë¶€ ìƒì„¸ ì¡°íšŒ ì‹¤íŒ¨ (ë‹¤ë¥¸ íšŒì›ì¼ ë•Œ)
14. ê°€ê³„ë¶€ ìƒì„¸ ì¡°íšŒ ì‹¤íŒ¨ (ê°€ê³„ë¶€ê°€ ì¡´ì¬í•˜ì§€ ì•Šì„ ë•Œ)
15. ê°€ê³„ë¶€ ìˆ˜ì • ì„±ê³µ
16. ê°€ê³„ë¶€ ìˆ˜ì • ì‹¤íŒ¨ (ë‚ ì§œê°€ ì¤‘ë³µë˜ì—ˆì„ ë•Œ)
17. ê°€ê³„ë¶€ ìˆ˜ì • ì‹¤íŒ¨ (ë‚ ì§œ í˜•ì‹ì´ ì•„ë‹ ë•Œ)
18. ê°€ê³„ë¶€ ìˆ˜ì • ì‹¤íŒ¨ (ë¹„íšŒì›ì¼ ë•Œ)
19. ê°€ê³„ë¶€ ìˆ˜ì • ì‹¤íŒ¨ (ë‹¤ë¥¸ íšŒì›ì¼ ë•Œ)
20. ê°€ê³„ë¶€ ìˆ˜ì • ì‹¤íŒ¨ (ê°€ê³„ë¶€ê°€ ì¡´ì¬í•˜ì§€ ì•Šì„ ë•Œ)
21. ê°€ê³„ë¶€ ì‚­ì œ ì„±ê³µ
22. ê°€ê³„ë¶€ ì‚­ì œ ì‹¤íŒ¨ (ë¹„íšŒì›ì¼ ë•Œ)
23. ê°€ê³„ë¶€ ì‚­ì œ ì‹¤íŒ¨ (ë‹¤ë¥¸ íšŒì›ì¼ ë•Œ)
24. ê°€ê³„ë¶€ ì‚­ì œ ì‹¤íŒ¨ (ê°€ê³„ë¶€ê°€ ì¡´ì¬í•˜ì§€ ì•Šì„ ë•Œ)
</div>
</details>

<P>

<details>
<summary style="font-size: 18px;">EXPENSE TEST CODE</summary>
<div markdown="3">

## ì›”ê°„ ì§€ì¶œ ë‚´ì—­ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ
1. ì›”ê°„ ì§€ì¶œ ë‚´ì—­ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ ì„±ê³µ
2. ì›”ê°„ ì§€ì¶œ ë‚´ì—­ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ ì‹¤íŒ¨ (ë¹„íšŒì›ì¼ ë•Œ)
3. ì›”ê°„ ì§€ì¶œ ë‚´ì—­ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ ì‹¤íŒ¨ (ë‹¤ë¥¸ íšŒì›ì¼ ë•Œ)
4. ì›”ê°„ ì§€ì¶œ ë‚´ì—­ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ ì‹¤íŒ¨ (ê°€ê³„ë¶€ ì°¾ì„ ìˆ˜ ì—†ìŒ)

## ì§€ì¶œ ë‚´ì—­ ìƒì„±
5. ì§€ì¶œ ë‚´ì—­ ìƒì„± ì„±ê³µ
6. ì§€ì¶œ ë‚´ì—­ ìƒì„± ì‹¤íŒ¨ (money í˜•ì‹ì´ ì•ˆ ë§ì„ ë•Œ)
7. ì§€ì¶œ ë‚´ì—­ ìƒì„± ì‹¤íŒ¨ (moneyê°€ ë¹ˆì¹¸ì¼ ë•Œ)
8. ì§€ì¶œ ë‚´ì—­ ìƒì„± ì‹¤íŒ¨ (money í•„ë“œê°€ ì—†ì„ ë•Œ)
9. ì§€ì¶œ ë‚´ì—­ ìƒì„± ì‹¤íŒ¨ (ë¹„íšŒì›ì¼ ë•Œ)
10. ì§€ì¶œ ë‚´ì—­ ìƒì„± ì‹¤íŒ¨ (ë‹¤ë¥¸ íšŒì›ì¼ ë•Œ)
11. ì§€ì¶œ ë‚´ì—­ ìƒì„± ì‹¤íŒ¨ (ê°€ê³„ë¶€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ)

## ì§€ì¶œ ë‚´ì—­ ìƒì„¸ ì¡°íšŒ, ë³µì œ, ìˆ˜ì •, ì‚­ì œ
12. ì§€ì¶œ ë‚´ì—­ ìƒì„¸ ì¡°íšŒ ì„±ê³µ
13. ì§€ì¶œ ë‚´ì—­ ìƒì„¸ ì¡°íšŒ ì‹¤íŒ¨ (ë¹„íšŒì›ì¼ ë•Œ)
14. ì§€ì¶œ ë‚´ì—­ ìƒì„¸ ì¡°íšŒ ì‹¤íŒ¨ (ë‹¤ë¥¸ íšŒì›ì¼ ë•Œ)
15. ì§€ì¶œ ë‚´ì—­ ìƒì„¸ ì¡°íšŒ ì‹¤íŒ¨ (ì§€ì¶œ ë‚´ì—­ ì°¾ì„ ìˆ˜ ì—†ì„ ë•Œ)
16. ì§€ì¶œ ë‚´ì—­ ë³µì œ ì„±ê³µ
17. ì§€ì¶œ ë‚´ì—­ ë³µì œ ì‹¤íŒ¨ (ë¹„íšŒì›ì¼ ë•Œ)
18. ì§€ì¶œ ë‚´ì—­ ë³µì œ ì‹¤íŒ¨ (ë‹¤ë¥¸ íšŒì›ì¼ ë•Œ)
19. ì§€ì¶œ ë‚´ì—­ ë³µì œ ì‹¤íŒ¨ (ì§€ì¶œ ë‚´ì—­ ì°¾ì„ ìˆ˜ ì—†ì„ ë•Œ)
20. ì§€ì¶œ ë‚´ì—­ ìˆ˜ì • ì„±ê³µ
21. ì§€ì¶œ ë‚´ì—­ ìˆ˜ì • ì„±ê³µ (money í•„ë“œê°€ ì—†ì„ ë•Œ)
22. ì§€ì¶œ ë‚´ì—­ ìˆ˜ì • ì‹¤íŒ¨ (moneyê°€ ë¹ˆì¹¸ì¼ ë•Œ)
23. ì§€ì¶œ ë‚´ì—­ ìˆ˜ì • ì‹¤íŒ¨ (moneyê°€ í˜•ì‹ì´ ì•ˆë§ì„ ë•Œ)
24. ì§€ì¶œ ë‚´ì—­ ìˆ˜ì • ì‹¤íŒ¨ (ë¹„íšŒì›ì¼ ë•Œ)
25. ì§€ì¶œ ë‚´ì—­ ìˆ˜ì • ì‹¤íŒ¨ (ë‹¤ë¥¸ íšŒì›ì¼ ë•Œ)
26. ì§€ì¶œ ë‚´ì—­ ìˆ˜ì • ì‹¤íŒ¨ (ì§€ì¶œ ë‚´ì—­ì„ ì°¾ì„ ìˆ˜ ì—†ì„ ë•Œ)
27. ì§€ì¶œ ë‚´ì—­ ì‚­ì œ ì„±ê³µ
28. ì§€ì¶œ ë‚´ì—­ ì‚­ì œ ì‹¤íŒ¨ (ë¹„íšŒì›ì¼ ë•Œ)
29. ì§€ì¶œ ë‚´ì—­ ì‚­ì œ ì‹¤íŒ¨ (ë‹¤ë¥¸ íšŒì›ì¼ ë•Œ)
30. ì§€ì¶œ ë‚´ì—­ ì‚­ì œ ì‹¤íŒ¨ (ì§€ì¶œ ë‚´ì—­ì„ ì°¾ì„ ìˆ˜ ì—†ì„  ë•Œ)

## ì§€ì¶œ ë‚´ì—­ ê³µìœ  ë‹¨ì¶• URL ìƒì„±
31. ì§€ì¶œ ë‚´ì—­ ê³µìœ  ë‹¨ì¶• URL ìƒì„± ì„±ê³µ
32. ì§€ì¶œ ë‚´ì—­ ê³µìœ  ë‹¨ì¶• URL ìƒì„± ì‹¤íŒ¨ (ì§€ì¶œ ë‚´ì—­ì— ë§í¬ê°€ ì¡´ì¬í•  ë•Œ)
33. ì§€ì¶œ ë‚´ì—­ ê³µìœ  ë‹¨ì¶• URL ìƒì„± ì‹¤íŒ¨ (ë¹„íšŒì›ì¼ ë•Œ)
34. ì§€ì¶œ ë‚´ì—­ ê³µìœ  ë‹¨ì¶• URL ìƒì„± ì‹¤íŒ¨ (ë‹¤ë¥¸ íšŒì›ì¼ ë•Œ)
35. ì§€ì¶œ ë‚´ì—­ ê³µìœ  ë‹¨ì¶• URL ìƒì„± ì‹¤íŒ¨ (ì§€ì¶œ ë‚´ì—­ì„ ì°¾ì„ ìˆ˜ ì—†ì„ ë•Œ)

## ì§€ì¶œ ë‚´ì—­ ê³µìœ  ë‹¨ì¶• URL ì¡°íšŒ
36. ì§€ì¶œ ë‚´ì—­ ê³µìœ  ë‹¨ì¶• URL ì¡°íšŒ ì„±ê³µ
37. ì§€ì¶œ ë‚´ì—­ ê³µìœ  ë‹¨ì¶• URL ì¡°íšŒ ì‹¤íŒ¨ (ë§í¬ ì‹œê°„ì´ ë§Œë£Œ ë˜ì—ˆì„ ë•Œ)
38. ì§€ì¶œ ë‚´ì—­ ê³µìœ  ë‹¨ì¶• URL ì¡°íšŒ ì‹¤íŒ¨ (ë¹„íšŒì›ì¼ ë•Œ)
39. ì§€ì¶œ ë‚´ì—­ ê³µìœ  ë‹¨ì¶• URL ì¡°íšŒ ì‹¤íŒ¨ (ì§€ì¶œë‚´ì—­ì„ ì°¾ì„ ìˆ˜ ì—†ì„ ë•Œ)

## ì§€ì¶œ ì¹´í…Œê³ ë¦¬ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ
40. ì§€ì¶œ ì¹´í…Œê³ ë¦¬ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ ì„±ê³µ
41. ì§€ì¶œ ì¹´í…Œê³ ë¦¬ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ ì‹¤íŒ¨ (ë¹„íšŒì›ì¼ ë•Œ)

## ì›”ê°„ ì§€ì¶œ ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ ì¡°íšŒ
42. ì›”ê°„ ì§€ì¶œ ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ ì¡°íšŒ ì„±ê³µ
43. ì›”ê°„ ì§€ì¶œ ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ ì¡°íšŒ ì„±ê³µ (ëª¨ë“  ì¿¼ë¦¬ë¥¼ ë¶ˆëŸ¬ì˜¬ ë•Œ)
44. ì›”ê°„ ì§€ì¶œ ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ ì¡°íšŒ ì‹¤íŒ¨ (date ë§¤ê°œë³€ìˆ˜ê°€ ì˜ëª»ë˜ì—ˆì„ ë•Œ)
45. ì›”ê°„ ì§€ì¶œ ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ ì¡°íšŒ ì‹¤íŒ¨ (ë¹„íšŒì›ì¼ ë•Œ)
46. ì›”ê°„ ì§€ì¶œ ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ ì¡°íšŒ ì‹¤íŒ¨ (main, sub ë§¤ê°œë³€ìˆ˜ê°€ ì˜ëª» ë˜ì—ˆì„ ë•Œ)

## ì›”ê°„ ì§€ì¶œ ì¹´í…Œê³ ë¦¬ í†µê³„ ì¡°íšŒ
47. ì›”ê°„ ì§€ì¶œ ì¹´í…Œê³ ë¦¬ í†µê³„ ì¡°íšŒ ì„±ê³µ
48. ì›”ê°„ ì§€ì¶œ ì¹´í…Œê³ ë¦¬ í†µê³„ ì¡°íšŒ ì‹¤íŒ¨ (date ë§¤ê°œë³€ìˆ˜ê°€ ì˜ëª»ë˜ì—ˆì„ ë•Œ)
49. ì›”ê°„ ì§€ì¶œ ì¹´í…Œê³ ë¦¬ í†µê³„ ì¡°íšŒ ì‹¤íŒ¨ (ë¹„íšŒì›ì¼ ë•Œ)
50. ì›”ê°„ ì§€ì¶œ ì¹´í…Œê³ ë¦¬ í†µê³„ ì¡°íšŒ ì‹¤íŒ¨ (ì§€ì¶œ ë‚´ì—­ì„ ì°¾ì„ ìˆ˜ ì—†ì„ ë•Œ)
    
</div>
</details>

<P>

<details>
<summary style="font-size: 18px;">INCOME TEST CODE</summary>
<div markdown="4">

## ì›”ê°„ ìˆ˜ìµ ë‚´ì—­ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ
1. ì›”ê°„ ìˆ˜ìµ ë‚´ì—­ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ ì„±ê³µ
2. ì›”ê°„ ìˆ˜ìµ ë‚´ì—­ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ ì‹¤íŒ¨ (ë¹„íšŒì›ì¼ ë•Œ)
3. ì›”ê°„ ìˆ˜ìµ ë‚´ì—­ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ ì‹¤íŒ¨ (ë‹¤ë¥¸ íšŒì›ì¼ ë•Œ)
4. ì›”ê°„ ìˆ˜ìµ ë‚´ì—­ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ ì‹¤íŒ¨ (ê°€ê³„ë¶€ ì°¾ì„ ìˆ˜ ì—†ìŒ)

## ìˆ˜ìµ ë‚´ì—­ ìƒì„±
5. ìˆ˜ìµ ë‚´ì—­ ìƒì„± ì„±ê³µ
6. ìˆ˜ìµ ë‚´ì—­ ìƒì„± ì‹¤íŒ¨ (money í˜•ì‹ì´ ì•ˆ ë§ì„ ë•Œ)
7. ìˆ˜ìµ ë‚´ì—­ ìƒì„± ì‹¤íŒ¨ (moneyê°€ ë¹ˆì¹¸ì¼ ë•Œ)
8. ìˆ˜ìµ ë‚´ì—­ ìƒì„± ì‹¤íŒ¨ (money í•„ë“œê°€ ì—†ì„ ë•Œ)
9. ìˆ˜ìµ ë‚´ì—­ ìƒì„± ì‹¤íŒ¨ (ë¹„íšŒì›ì¼ ë•Œ)
10. ìˆ˜ìµ ë‚´ì—­ ìƒì„± ì‹¤íŒ¨ (ë‹¤ë¥¸ íšŒì›ì¼ ë•Œ)
11. ìˆ˜ìµ ë‚´ì—­ ìƒì„± ì‹¤íŒ¨ (ê°€ê³„ë¶€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ)

## ìˆ˜ìµ ë‚´ì—­ ìƒì„¸ ì¡°íšŒ, ë³µì œ, ìˆ˜ì •, ì‚­ì œ
12. ìˆ˜ìµ ë‚´ì—­ ìƒì„¸ ì¡°íšŒ ì„±ê³µ
13. ìˆ˜ìµ ë‚´ì—­ ìƒì„¸ ì¡°íšŒ ì‹¤íŒ¨ (ë¹„íšŒì›ì¼ ë•Œ)
14. ìˆ˜ìµ ë‚´ì—­ ìƒì„¸ ì¡°íšŒ ì‹¤íŒ¨ (ë‹¤ë¥¸ íšŒì›ì¼ ë•Œ)
15. ìˆ˜ìµ ë‚´ì—­ ìƒì„¸ ì¡°íšŒ ì‹¤íŒ¨ (ìˆ˜ìµ ë‚´ì—­ ì°¾ì„ ìˆ˜ ì—†ì„ ë•Œ)
16. ìˆ˜ìµ ë‚´ì—­ ë³µì œ ì„±ê³µ
17. ìˆ˜ìµ ë‚´ì—­ ë³µì œ ì‹¤íŒ¨ (ë¹„íšŒì›ì¼ ë•Œ)
18. ìˆ˜ìµ ë‚´ì—­ ë³µì œ ì‹¤íŒ¨ (ë‹¤ë¥¸ íšŒì›ì¼ ë•Œ)
19. ìˆ˜ìµ ë‚´ì—­ ë³µì œ ì‹¤íŒ¨ (ìˆ˜ìµ ë‚´ì—­ ì°¾ì„ ìˆ˜ ì—†ì„ ë•Œ)
20. ìˆ˜ìµ ë‚´ì—­ ìˆ˜ì • ì„±ê³µ
21. ìˆ˜ìµ ë‚´ì—­ ìˆ˜ì • ì„±ê³µ (money í•„ë“œê°€ ì—†ì„ ë•Œ)
22. ìˆ˜ìµ ë‚´ì—­ ìˆ˜ì • ì‹¤íŒ¨ (moneyê°€ ë¹ˆì¹¸ì¼ ë•Œ)
23. ìˆ˜ìµ ë‚´ì—­ ìˆ˜ì • ì‹¤íŒ¨ (moneyê°€ í˜•ì‹ì´ ì•ˆë§ì„ ë•Œ)
24. ìˆ˜ìµ ë‚´ì—­ ìˆ˜ì • ì‹¤íŒ¨ (ë¹„íšŒì›ì¼ ë•Œ)
25. ìˆ˜ìµ ë‚´ì—­ ìˆ˜ì • ì‹¤íŒ¨ (ë‹¤ë¥¸ íšŒì›ì¼ ë•Œ)
26. ìˆ˜ìµ ë‚´ì—­ ìˆ˜ì • ì‹¤íŒ¨ (ìˆ˜ìµ ë‚´ì—­ì„ ì°¾ì„ ìˆ˜ ì—†ì„ ë•Œ)
27. ìˆ˜ìµ ë‚´ì—­ ì‚­ì œ ì„±ê³µ
28. ìˆ˜ìµ ë‚´ì—­ ì‚­ì œ ì‹¤íŒ¨ (ë¹„íšŒì›ì¼ ë•Œ)
29. ìˆ˜ìµ ë‚´ì—­ ì‚­ì œ ì‹¤íŒ¨ (ë‹¤ë¥¸ íšŒì›ì¼ ë•Œ)
30. ìˆ˜ìµ ë‚´ì—­ ì‚­ì œ ì‹¤íŒ¨ (ìˆ˜ìµ ë‚´ì—­ì„ ì°¾ì„ ìˆ˜ ì—†ì„  ë•Œ)

## ìˆ˜ìµ ë‚´ì—­ ê³µìœ  ë‹¨ì¶• URL ìƒì„±
31. ìˆ˜ìµ ë‚´ì—­ ê³µìœ  ë‹¨ì¶• URL ìƒì„± ì„±ê³µ
32. ìˆ˜ìµ ë‚´ì—­ ê³µìœ  ë‹¨ì¶• URL ìƒì„± ì‹¤íŒ¨ (ìˆ˜ìµ ë‚´ì—­ì— ë§í¬ê°€ ì¡´ì¬í•  ë•Œ)
33. ìˆ˜ìµ ë‚´ì—­ ê³µìœ  ë‹¨ì¶• URL ìƒì„± ì‹¤íŒ¨ (ë¹„íšŒì›ì¼ ë•Œ)
34. ìˆ˜ìµ ë‚´ì—­ ê³µìœ  ë‹¨ì¶• URL ìƒì„± ì‹¤íŒ¨ (ë‹¤ë¥¸ íšŒì›ì¼ ë•Œ)
35. ìˆ˜ìµ ë‚´ì—­ ê³µìœ  ë‹¨ì¶• URL ìƒì„± ì‹¤íŒ¨ (ìˆ˜ìµ ë‚´ì—­ì„ ì°¾ì„ ìˆ˜ ì—†ì„ ë•Œ)

## ìˆ˜ìµ ë‚´ì—­ ê³µìœ  ë‹¨ì¶• URL ì¡°íšŒ
36. ìˆ˜ìµ ë‚´ì—­ ê³µìœ  ë‹¨ì¶• URL ì¡°íšŒ ì„±ê³µ
37. ìˆ˜ìµ ë‚´ì—­ ê³µìœ  ë‹¨ì¶• URL ì¡°íšŒ ì‹¤íŒ¨ (ë§í¬ ì‹œê°„ì´ ë§Œë£Œ ë˜ì—ˆì„ ë•Œ)
38. ìˆ˜ìµ ë‚´ì—­ ê³µìœ  ë‹¨ì¶• URL ì¡°íšŒ ì‹¤íŒ¨ (ë¹„íšŒì›ì¼ ë•Œ)
39. ìˆ˜ìµ ë‚´ì—­ ê³µìœ  ë‹¨ì¶• URL ì¡°íšŒ ì‹¤íŒ¨ (ìˆ˜ìµ ë‚´ì—­ì„ ì°¾ì„ ìˆ˜ ì—†ì„ ë•Œ)

## ìˆ˜ìµ ì¹´í…Œê³ ë¦¬ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ
40. ìˆ˜ìµ ì¹´í…Œê³ ë¦¬ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ ì„±ê³µ
41. ìˆ˜ìµ ì¹´í…Œê³ ë¦¬ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ ì‹¤íŒ¨ (ë¹„íšŒì›ì¼ ë•Œ)

## ì›”ê°„ ìˆ˜ìµ ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ ì¡°íšŒ
42. ì›”ê°„ ìˆ˜ìµ ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ ì¡°íšŒ ì„±ê³µ
43. ì›”ê°„ ìˆ˜ìµ ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ ì¡°íšŒ ì„±ê³µ (ëª¨ë“  ì¿¼ë¦¬ë¥¼ ë¶ˆëŸ¬ì˜¬ ë•Œ)
44. ì›”ê°„ ìˆ˜ìµ ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ ì¡°íšŒ ì‹¤íŒ¨ (date ë§¤ê°œë³€ìˆ˜ê°€ ì˜ëª»ë˜ì—ˆì„ ë•Œ)
45. ì›”ê°„ ìˆ˜ìµ ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ ì¡°íšŒ ì‹¤íŒ¨ (ë¹„íšŒì›ì¼ ë•Œ)
46. ì›”ê°„ ìˆ˜ìµ ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ ì¡°íšŒ ì‹¤íŒ¨ (main, sub ë§¤ê°œë³€ìˆ˜ê°€ ì˜ëª» ë˜ì—ˆì„ ë•Œ)

## ì›”ê°„ ìˆ˜ìµ ì¹´í…Œê³ ë¦¬ í†µê³„ ì¡°íšŒ
47. ì›”ê°„ ìˆ˜ìµ ì¹´í…Œê³ ë¦¬ í†µê³„ ì¡°íšŒ ì„±ê³µ
48. ì›”ê°„ ìˆ˜ìµ ì¹´í…Œê³ ë¦¬ í†µê³„ ì¡°íšŒ ì‹¤íŒ¨ (date ë§¤ê°œë³€ìˆ˜ê°€ ì˜ëª»ë˜ì—ˆì„ ë•Œ)
49. ì›”ê°„ ìˆ˜ìµ ì¹´í…Œê³ ë¦¬ í†µê³„ ì¡°íšŒ ì‹¤íŒ¨ (ë¹„íšŒì›ì¼ ë•Œ)
50. ì›”ê°„ ìˆ˜ìµ ì¹´í…Œê³ ë¦¬ í†µê³„ ì¡°íšŒ ì‹¤íŒ¨ (ìˆ˜ìµ ë‚´ì—­ì„ ì°¾ì„ ìˆ˜ ì—†ì„ ë•Œ)
    
</div>
</details>

